<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Employee Management System</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"/>
</head>
<body class="container py-4">

<h2 class="mb-4 text-center">Employee Management System</h2>

<!-- Add Employee Form -->
<div class="card mb-4">
    <div class="card-header">Add New Employee</div>
    <div class="card-body">
        <form th:action="@{/create}" th:object="${employee}" method="post" class="row g-3">
            <div class="col-md-6">
                <input type="text" class="form-control" placeholder="Name"
                       th:field="*{employeeName}" required/>
            </div>
            <div class="col-md-6">
                <input type="email" class="form-control" placeholder="Email"
                       th:field="*{employeeEmail}" required/>
            </div>
            <div class="col-md-6">
                <input type="text" class="form-control" placeholder="Phone"
                       th:field="*{employeePhone}" required/>
            </div>
            <div class="col-md-6">
                <select class="form-select" th:field="*{employeeGender}" required>
                    <option value="">Select Gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            <div class="col-md-6">
                <input type="text" class="form-control" placeholder="Salary"
                       th:field="*{employeeSalary}" required/>
            </div>
            <div class="col-md-6">
                <input type="text" class="form-control" placeholder="Role"
                       th:field="*{employeeRole}" required/>
            </div>
            <div class="col-12">
                <button type="submit" class="btn btn-success">Add Employee</button>
            </div>
        </form>
    </div>
</div>

<!-- Employee Table -->
<div class="card">
    <div class="card-header">Employee List</div>
    <div class="card-body">
        <table class="table table-bordered table-striped">
            <thead class="table-dark">
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Gender</th>
                <th>Salary</th>
                <th>Role</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="emp : ${employees}">
                <td th:text="${emp.id}"></td>
                <td th:text="${emp.employeeName}"></td>
                <td th:text="${emp.employeeEmail}"></td>
                <td th:text="${emp.employeePhone}"></td>
                <td th:text="${emp.employeeGender}"></td>
                <td th:text="${emp.employeeSalary}"></td>
                <td th:text="${emp.employeeRole}"></td>
                <td>
                    <!-- Update Form -->
                    <form th:action="@{/update}" method="post" style="display:inline-block;">
                        <input type="hidden" name="id" th:value="${emp.id}"/>
                        <button type="submit" class="btn btn-primary btn-sm">Update</button>
                    </form>

                    <!-- Delete Form -->
                    <form th:action="@{/remove}" method="post" style="display:inline-block;">
                        <input type="hidden" name="id" th:value="${emp.id}"/>
                        <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                    </form>
                </td>
            </tr>
            </tbody>
        </table>

        <!-- Delete All Employees -->
        <form th:action="@{/remove/all}" th:object="${confirmationForm}" method="post" class="mt-3">
            <label for="confirmation">Type "Yes" to delete all employees:</label>
            <input type="text" id="confirmation" th:field="*{confirmation}" class="form-control mb-2"/>
            <button type="submit" class="btn btn-danger">Delete All</button>
        </form>
    </div>
</div>

</body>
</html>
